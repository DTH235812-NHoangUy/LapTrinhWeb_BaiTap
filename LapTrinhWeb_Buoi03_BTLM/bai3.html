<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Javascript - Đăng ký phòng</title>
        
        <style>
            /* CSS trang trí cho cái bảng */
            table {
                border: 1px solid blue;
                box-shadow: 5px 5px 5px grey; 
                border-radius: 4px;
                padding: 12px; 
                font-weight: bold;
                font-size: 18px;
                margin: auto;
                margin-top: 50px;
                font-family: Arial, sans-serif;
            }   
            th {
                font-size: 22px;
                color: blue;
                padding-bottom: 10px;
            }           
        </style>
        
        <script language="Javascript">          
            function tinhtien() {
                var form = document.f1;
                var soNguoi = form.soluong.value;
                
                // 1. Kiểm tra nếu chưa nhập hoặc nhập sai
                if (soNguoi == "" || isNaN(soNguoi) || Number(soNguoi) <= 0) {
                    alert("Vui lòng nhập số lượng người hợp lệ!");
                    form.soluong.focus();
                    return false;
                }

                soNguoi = Number(soNguoi);
                
                // 2. Thiết lập giá tiền dựa trên test case
                var giaMotNguoi = 300; // 300/người
                var giaMayLanh = 400;  // Phụ thu máy lạnh 400
                
                // Tính tiền cơ bản
                var tongTien = soNguoi * giaMotNguoi;

                // 3. Xử lý giảm giá: Nếu từ 4 người trở lên thì giảm 10%
                if (soNguoi >= 4) {
                    tongTien = tongTien * 0.9; 
                }

                // 4. Cộng thêm tiền nếu có chọn máy lạnh
                if (form.maylanh.checked == true) {
                    tongTien = tongTien + giaMayLanh;
                }

                // 5. In kết quả ra ô tổng tiền
                form.sotien.value = tongTien;
            }
        </script>
    </head>
    
    <body>    
        <form name="f1">
            <table>
                <tr>
                    <th colspan="2">Đăng ký phòng</th>
                </tr>
                <tr>
                    <td>Số lượng (người) </td>
                    <td> <input type='text' name='soluong' size="10" value='' /></td>
                </tr>           
                <tr>
                    <td colspan="2">
                        <input type='checkbox' name='maylanh' value='yes' /> 
                        Có máy lạnh
                    </td>
                </tr>
                
                <tr>
                    <td colspan="2" style="text-align: center; padding-top: 15px;">                    
                        <input type="button" name="Tinh" value="Tính tiền" onClick="tinhtien()" />
                        <input type="text" name="sotien" size="10" disabled="true" />
                    </td>
                </tr>
            </table>
        </form>
    </body>
</html>